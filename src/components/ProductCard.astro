---
// import { Image } from 'astro:assets';
import { Picture } from 'astro:assets';
// import type { sqItem, sqVariation } from '../scripts/square';
const { product } = Astro.props;
---

<div class="catalog-item border-light-accent bg-dark-shade border-solid border-2 \
flex flex-col justify-between items-center justify-items-center \
lg:max-h-60 lg:h-60
"
  data-category={product.category}
>
  <div class="lg:w-full p-1 flex items-center">

    <a href=`/things/${product.name}`>
      <Picture
        src={product.image_urls.length > 0 
              ? product.image_urls[0] 
              : "https://raw.githubusercontent.com/RussHewgill/Gadget3D/main/src/assets/images/things/placeholder.png"}
        height={200}
        width={200}
        alt={product.name}
        class='max-h-44 object-cover'
      />
      <!-- decoding="async"
        loading="lazy" -->
      </a>
    </div>

  <div class="text-center">
    <!-- <h2>{product.category}</h2> -->
    <h3>{product.name}</h3>
    <p>${product.price_range[0] == product.price_range[1] 
          ? `${(product.price_range[0]/100).toFixed(2)}` 
          : `${(product.price_range[0]/100).toFixed(2)} 
                - ${(product.price_range[1]/100).toFixed(2)}`}</p>
    {product.variations.length > 1 && <p>{product.variations.length} Variations</p>}
  </div>
</div>
